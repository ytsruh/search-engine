import{r as we}from"../chunks/index.ade5cbd2.js";import{S as Oe,i as Pe,s as Te,e as de,b as ge,d as H,f as Se,g as J,h as _,v as je,a6 as ve,a7 as Ie,k as u,q as x,a as O,y as be,l as c,m,r as B,c as P,z as ye,n as r,D as a,a4 as me,A as ke,K as F,Y as Le,B as Ee,T as Ue,R as De}from"../chunks/index.46a9379e.js";import{g as Ne}from"../chunks/navigation.26597cb2.js";import{t as he,T as xe}from"../chunks/Toast.3c951338.js";import"../chunks/ProgressBar.svelte_svelte_type_style_lang.3785e41c.js";import{L as Be}from"../chunks/Loading.cabc868e.js";const Ve=async({fetch:f})=>{const e=await f("/api/admin/settings");if(!e.ok)throw we(307,"/");return await e.json()},Ke=Object.freeze(Object.defineProperty({__proto__:null,load:Ve},Symbol.toStringTag,{value:"Module"}));function Ae(f){let e,t,s,p,o,l,k,n,g,v,E,b,i,j,V,K,Y,T,d,G,A,Q,W,S,U,X,Z,w,ee,D,I,te,ae,L,$,se,re,le;return L=new xe({}),se=Ie(f[6][0]),{c(){e=u("div"),t=u("h1"),s=x("Settings"),p=O(),o=u("form"),l=u("label"),k=u("p"),n=x("Search On:"),g=O(),v=u("div"),E=u("label"),b=u("div"),i=u("input"),j=O(),V=u("p"),K=x("On"),Y=O(),T=u("div"),d=u("input"),G=O(),A=u("p"),Q=x("Off"),W=O(),S=u("label"),U=u("p"),X=x("Urls per hour:"),Z=O(),w=u("input"),ee=O(),D=u("div"),I=u("button"),te=x("Update"),ae=O(),be(L.$$.fragment),this.h()},l(h){e=c(h,"DIV",{class:!0});var y=m(e);t=c(y,"H1",{class:!0});var ne=m(t);s=B(ne,"Settings"),ne.forEach(_),p=P(y),o=c(y,"FORM",{class:!0,autocomplete:!0});var N=m(o);l=c(N,"LABEL",{class:!0});var q=m(l);k=c(q,"P",{class:!0});var oe=m(k);n=B(oe,"Search On:"),oe.forEach(_),g=P(q),v=c(q,"DIV",{class:!0});var ie=m(v);E=c(ie,"LABEL",{class:!0});var z=m(E);b=c(z,"DIV",{class:!0});var C=m(b);i=c(C,"INPUT",{class:!0,type:!0,name:!0}),j=P(C),V=c(C,"P",{});var ue=m(V);K=B(ue,"On"),ue.forEach(_),C.forEach(_),Y=P(z),T=c(z,"DIV",{class:!0});var M=m(T);d=c(M,"INPUT",{class:!0,type:!0,name:!0}),G=P(M),A=c(M,"P",{});var ce=m(A);Q=B(ce,"Off"),ce.forEach(_),M.forEach(_),z.forEach(_),ie.forEach(_),q.forEach(_),W=P(N),S=c(N,"LABEL",{class:!0});var R=m(S);U=c(R,"P",{class:!0});var fe=m(U);X=B(fe,"Urls per hour:"),fe.forEach(_),Z=P(R),w=c(R,"INPUT",{class:!0,id:!0,type:!0}),R.forEach(_),ee=P(N),D=c(N,"DIV",{class:!0});var pe=m(D);I=c(pe,"BUTTON",{type:!0,class:!0});var _e=m(I);te=B(_e,"Update"),_e.forEach(_),pe.forEach(_),N.forEach(_),ae=P(y),ye(L.$$.fragment,y),y.forEach(_),this.h()},h(){r(t,"class","text-4xl py-5 text-primary-500"),r(k,"class","py-4"),r(i,"class","radio"),r(i,"type","radio"),r(i,"name","search-on"),i.__value=!0,i.value=i.__value,r(b,"class","flex items-center space-x-5"),r(d,"class","radio"),r(d,"type","radio"),r(d,"name","search-on"),d.__value=!1,d.value=d.__value,r(T,"class","flex items-center space-x-5"),r(E,"class","flex items-center justify-around"),r(v,"class","space-y-2"),r(l,"class","label py-2"),r(U,"class","py-4"),r(w,"class","input"),r(w,"id","amount"),r(w,"type","number"),r(S,"class","label py-2"),r(I,"type","submit"),r(I,"class","btn variant-filled-primary"),r(D,"class","flex justify-around py-5"),r(o,"class","w-full sm:w-2/3 lg:w-1/2 xl:w-1/3"),r(o,"autocomplete","off"),r(e,"class","flex flex-col justify-center items-center"),se.p(i,d)},m(h,y){ge(h,e,y),a(e,t),a(t,s),a(e,p),a(e,o),a(o,l),a(l,k),a(k,n),a(l,g),a(l,v),a(v,E),a(E,b),a(b,i),i.checked=i.__value===f[0],a(b,j),a(b,V),a(V,K),a(E,Y),a(E,T),a(T,d),d.checked=d.__value===f[0],a(T,G),a(T,A),a(A,Q),a(o,W),a(o,S),a(S,U),a(U,X),a(S,Z),a(S,w),me(w,f[1]),a(o,ee),a(o,D),a(D,I),a(I,te),a(e,ae),ke(L,e,null),$=!0,re||(le=[F(i,"change",f[5]),F(d,"change",f[7]),F(w,"input",f[8]),F(o,"submit",Le(f[3]))],re=!0)},p(h,y){y&1&&(i.checked=i.__value===h[0]),y&1&&(d.checked=d.__value===h[0]),y&2&&ve(w.value)!==h[1]&&me(w,h[1])},i(h){$||(J(L.$$.fragment,h),$=!0)},o(h){H(L.$$.fragment,h),$=!1},d(h){h&&_(e),Ee(L),se.r(),re=!1,Ue(le)}}}function $e(f){let e,t;return e=new Be({}),{c(){be(e.$$.fragment)},l(s){ye(e.$$.fragment,s)},m(s,p){ke(e,s,p),t=!0},p:De,i(s){t||(J(e.$$.fragment,s),t=!0)},o(s){H(e.$$.fragment,s),t=!1},d(s){Ee(e,s)}}}function qe(f){let e,t,s,p;const o=[$e,Ae],l=[];function k(n,g){return n[2]?0:1}return e=k(f),t=l[e]=o[e](f),{c(){t.c(),s=de()},l(n){t.l(n),s=de()},m(n,g){l[e].m(n,g),ge(n,s,g),p=!0},p(n,[g]){let v=e;e=k(n),e===v?l[e].p(n,g):(je(),H(l[v],1,1,()=>{l[v]=null}),Se(),t=l[e],t?t.p(n,g):(t=l[e]=o[e](n),t.c()),J(t,1),t.m(s.parentNode,s))},i(n){p||(J(t),p=!0)},o(n){H(t),p=!1},d(n){l[e].d(n),n&&_(s)}}}function ze(f,e,t){let{data:s}=e,p=s.settings.on,o=s.settings.amount,l=!1;async function k(b){if(t(2,l=!0),o<1){const j={message:"Please ensure all fields are set & amount is greater than 0",timeout:5e3,background:"variant-filled-primary"};t(2,l=!1),he.trigger(j);return}const i=await fetch("/api/admin/settings",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({on:p,amount:o})});if(!i.ok){const j={message:"There was a problem updating settings. Please try again.",timeout:5e3,background:"variant-filled-primary"};t(2,l=!1),he.trigger(j);return}await i.json(),t(2,l=!1),Ne("/admin")}const n=[[]];function g(){p=this.__value,t(0,p)}function v(){p=this.__value,t(0,p)}function E(){o=ve(this.value),t(1,o)}return f.$$set=b=>{"data"in b&&t(4,s=b.data)},[p,o,l,k,s,g,n,v,E]}class Ye extends Oe{constructor(e){super(),Pe(this,e,ze,qe,Te,{data:4})}}export{Ye as component,Ke as universal};
