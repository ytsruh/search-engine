import{S as ee,i as te,s as re,k as g,q as T,a as L,l as m,m as _,r as H,h,c as P,n as f,b as G,D as s,R as F,I as Z,y as M,z as Q,A as U,W as _e,X as ge,g as R,d as B,B as W,J as ce,N as me,Q as ve,e as ie,f as de,U as be,v as pe,u as Y,a7 as $e}from"../chunks/index.a3aaef09.js";import{p as ye}from"../chunks/stores.346633bf.js";import{g as ue}from"../chunks/navigation.7df310e8.js";import{L as ke}from"../chunks/Loading.bacec4ea.js";import{I as Ee}from"../chunks/IconBase.36a53976.js";function xe(n){let e,t,r,c,l,o,v,a,$;return{c(){e=g("div"),t=g("h1"),r=T("No results found"),c=L(),l=g("h2"),o=T("Please search again"),v=L(),a=g("a"),$=T("Search again"),this.h()},l(E){e=m(E,"DIV",{class:!0});var y=_(e);t=m(y,"H1",{class:!0});var w=_(t);r=H(w,"No results found"),w.forEach(h),c=P(y),l=m(y,"H2",{class:!0});var k=_(l);o=H(k,"Please search again"),k.forEach(h),v=P(y),a=m(y,"A",{href:!0,class:!0});var I=_(a);$=H(I,"Search again"),I.forEach(h),y.forEach(h),this.h()},h(){f(t,"class","text-primary-500 text-3xl py-2"),f(l,"class","text-surface-500 dark:text-surface-50 text-xl py-2"),f(a,"href","/"),f(a,"class","btn variant-filled-primary my-5"),f(e,"class","flex flex-col justify-center items-center h-full")},m(E,y){G(E,e,y),s(e,t),s(t,r),s(e,c),s(e,l),s(l,o),s(e,v),s(e,a),s(a,$)},p:F,i:F,o:F,d(E){E&&h(e)}}}class De extends ee{constructor(e){super(),te(this,e,null,xe,re,{})}}function we(n){let e;return{c(){e=me("path"),this.h()},l(t){e=ve(t,"path",{d:!0}),_(e).forEach(h),this.h()},h(){f(e,"d","M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z")},m(t,r){G(t,e,r)},p:F,d(t){t&&h(e)}}}function Ie(n){let e,t;const r=[{viewBox:"0 0 448 512"},n[0]];let c={$$slots:{default:[we]},$$scope:{ctx:n}};for(let l=0;l<r.length;l+=1)c=Z(c,r[l]);return e=new Ee({props:c}),{c(){M(e.$$.fragment)},l(l){Q(e.$$.fragment,l)},m(l,o){U(e,l,o),t=!0},p(l,[o]){const v=o&1?_e(r,[r[0],ge(l[0])]):{};o&2&&(v.$$scope={dirty:o,ctx:l}),e.$set(v)},i(l){t||(R(e.$$.fragment,l),t=!0)},o(l){B(e.$$.fragment,l),t=!1},d(l){W(e,l)}}}function Ne(n,e,t){return n.$$set=r=>{t(0,e=Z(Z({},e),ce(r)))},e=ce(e),[e]}class Se extends ee{constructor(e){super(),te(this,e,Ne,Ie,re,{})}}function fe(n,e,t){const r=n.slice();return r[5]=e[t],r}function Te(n){let e,t;return e=new De({}),{c(){M(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,c){U(e,r,c),t=!0},p:F,i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function He(n){let e,t,r,c,l,o,v=n[1].count+"",a,$,E,y,w,k,I,q,O,N,V,C,j,x,b,D,S=n[1].results,u=[];for(let d=0;d<S.length;d+=1)u[d]=he(fe(n,S,d));const J=d=>B(u[d],1,1,()=>{u[d]=null});return{c(){e=g("div"),t=g("div"),r=g("h1"),c=T("Your Search Results"),l=L(),o=g("h2"),a=T(v),$=T(" results found"),E=L(),y=g("div");for(let d=0;d<u.length;d+=1)u[d].c();w=L(),k=g("div"),I=g("h2"),q=T("Not found what you're looking for?"),O=L(),N=g("h5"),V=T("Try a proper search engine instead"),C=L(),j=g("div"),x=g("a"),b=T("Search DuckDuckGo"),this.h()},l(d){e=m(d,"DIV",{class:!0});var p=_(e);t=m(p,"DIV",{class:!0});var i=_(t);r=m(i,"H1",{class:!0});var A=_(r);c=H(A,"Your Search Results"),A.forEach(h),l=P(i),o=m(i,"H2",{class:!0});var X=_(o);a=H(X,v),$=H(X," results found"),X.forEach(h),E=P(i),y=m(i,"DIV",{class:!0});var ae=_(y);for(let K=0;K<u.length;K+=1)u[K].l(ae);ae.forEach(h),i.forEach(h),w=P(p),k=m(p,"DIV",{class:!0});var z=_(k);I=m(z,"H2",{class:!0});var se=_(I);q=H(se,"Not found what you're looking for?"),se.forEach(h),O=P(z),N=m(z,"H5",{class:!0});var le=_(N);V=H(le,"Try a proper search engine instead"),le.forEach(h),C=P(z),j=m(z,"DIV",{class:!0});var oe=_(j);x=m(oe,"A",{type:!0,class:!0,href:!0});var ne=_(x);b=H(ne,"Search DuckDuckGo"),ne.forEach(h),oe.forEach(h),z.forEach(h),p.forEach(h),this.h()},h(){f(r,"class","text-3xl pb-5"),f(o,"class","text-lg pb-5"),f(y,"class","grid grid-cols-1 md:grid-cols-2 py-2 gap-4"),f(t,"class","col-span-2"),f(I,"class","text-2xl py-2"),f(N,"class","text-lg py-2"),f(x,"type","button"),f(x,"class","btn variant-filled-primary"),f(x,"href",`https://www.duckduckgo.com?q=${n[2]}`),f(j,"class","flex py-2"),f(k,"class","hidden lg:flex lg:flex-col p-5 my-10"),f(e,"class","grid grid-cols-1 lg:grid-cols-3 p-5 h-full")},m(d,p){G(d,e,p),s(e,t),s(t,r),s(r,c),s(t,l),s(t,o),s(o,a),s(o,$),s(t,E),s(t,y);for(let i=0;i<u.length;i+=1)u[i]&&u[i].m(y,null);s(e,w),s(e,k),s(k,I),s(I,q),s(k,O),s(k,N),s(N,V),s(k,C),s(k,j),s(j,x),s(x,b),D=!0},p(d,p){if((!D||p&2)&&v!==(v=d[1].count+"")&&Y(a,v),p&2){S=d[1].results;let i;for(i=0;i<S.length;i+=1){const A=fe(d,S,i);u[i]?(u[i].p(A,p),R(u[i],1)):(u[i]=he(A),u[i].c(),R(u[i],1),u[i].m(y,null))}for(pe(),i=S.length;i<u.length;i+=1)J(i);de()}},i(d){if(!D){for(let p=0;p<S.length;p+=1)R(u[p]);D=!0}},o(d){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)B(u[p]);D=!1},d(d){d&&h(e),$e(u,d)}}}function Ve(n){let e,t;return e=new ke({}),{c(){M(e.$$.fragment)},l(r){Q(e.$$.fragment,r)},m(r,c){U(e,r,c),t=!0},p:F,i(r){t||(R(e.$$.fragment,r),t=!0)},o(r){B(e.$$.fragment,r),t=!1},d(r){W(e,r)}}}function he(n){let e,t,r,c,l=(n[5].pageTitle?n[5].pageTitle:n[5].url)+"",o,v,a,$=(n[5].pageDescription?n[5].pageDescription:"No description available")+"",E,y,w,k,I=n[5].url+"",q,O,N,V,C,j,x;return V=new Se({}),{c(){e=g("a"),t=g("div"),r=g("section"),c=g("h6"),o=T(l),v=L(),a=g("p"),E=T($),y=L(),w=g("footer"),k=g("p"),q=T(I),O=L(),N=g("div"),M(V.$$.fragment),C=L(),this.h()},l(b){e=m(b,"A",{class:!0,href:!0,target:!0});var D=_(e);t=m(D,"DIV",{class:!0});var S=_(t);r=m(S,"SECTION",{class:!0});var u=_(r);c=m(u,"H6",{class:!0});var J=_(c);o=H(J,l),J.forEach(h),v=P(u),a=m(u,"P",{class:!0});var d=_(a);E=H(d,$),d.forEach(h),u.forEach(h),y=P(S),w=m(S,"FOOTER",{class:!0});var p=_(w);k=m(p,"P",{class:!0});var i=_(k);q=H(i,I),i.forEach(h),O=P(p),N=m(p,"DIV",{class:!0});var A=_(N);Q(V.$$.fragment,A),A.forEach(h),p.forEach(h),S.forEach(h),C=P(D),D.forEach(h),this.h()},h(){f(c,"class","text-primary-500 font-bold truncate"),f(a,"class","text-surface-900 dark:text-surface-100 line-clamp-3"),f(r,"class","p-4"),f(k,"class","text-sm italic truncate pr-5"),f(N,"class","icon svelte-190uef9"),f(w,"class","card-footer flex justify-between items-center text-surface-500 dark:text-surface-200"),f(t,"class","flex flex-col justify-between h-full"),f(e,"class","block card card-hover p-1 h-full"),f(e,"href",j=n[5].url),f(e,"target","_blank")},m(b,D){G(b,e,D),s(e,t),s(t,r),s(r,c),s(c,o),s(r,v),s(r,a),s(a,E),s(t,y),s(t,w),s(w,k),s(k,q),s(w,O),s(w,N),U(V,N,null),s(e,C),x=!0},p(b,D){(!x||D&2)&&l!==(l=(b[5].pageTitle?b[5].pageTitle:b[5].url)+"")&&Y(o,l),(!x||D&2)&&$!==($=(b[5].pageDescription?b[5].pageDescription:"No description available")+"")&&Y(E,$),(!x||D&2)&&I!==(I=b[5].url+"")&&Y(q,I),(!x||D&2&&j!==(j=b[5].url))&&f(e,"href",j)},i(b){x||(R(V.$$.fragment,b),x=!0)},o(b){B(V.$$.fragment,b),x=!1},d(b){b&&h(e),W(V)}}}function je(n){let e,t,r,c;const l=[Ve,He,Te],o=[];function v(a,$){return a[0]?0:a[1].count>0?1:2}return e=v(n),t=o[e]=l[e](n),{c(){t.c(),r=ie()},l(a){t.l(a),r=ie()},m(a,$){o[e].m(a,$),G(a,r,$),c=!0},p(a,[$]){let E=e;e=v(a),e===E?o[e].p(a,$):(pe(),B(o[E],1,1,()=>{o[E]=null}),de(),t=o[e],t?t.p(a,$):(t=o[e]=l[e](a),t.c()),R(t,1),t.m(r.parentNode,r))},i(a){c||(R(t),c=!0)},o(a){B(t),c=!1},d(a){o[e].d(a),a&&h(r)}}}function Le(n,e,t){let r;be(n,ye,a=>t(3,r=a));const c=r.url.searchParams.get("q");c||ue("/");let l=!0,o={count:0,results:[]};async function v(){try{const a=await fetch("/api/search",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({searchTerm:c})});if(!a.ok){console.log("problem with fetching data"),t(0,l=!1);return}t(1,o=await a.json()),t(0,l=!1)}catch{ue("500"),t(0,l=!1)}}return v(),[l,o,c]}class Oe extends ee{constructor(e){super(),te(this,e,Le,je,re,{})}}export{Oe as component};
